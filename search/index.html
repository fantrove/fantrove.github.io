<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>ระบบค้นหา | FanTrove</title>
  <meta name="theme-color" content="#13b47f" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Preload CSS สำคัญก่อน พร้อม fallback -->
  <link
    rel="preload"
    href="/assets/css/search.min.css"
    as="style"
    onload="this.rel='stylesheet'"
  />
  <noscript>
    <link rel="stylesheet" href="/assets/css/search.min.css" />
  </noscript>

  <link
    rel="preload"
    href="/assets/css/bg.min.css"
    as="style"
    onload="this.rel='stylesheet'"
  />
  <noscript>
    <link rel="stylesheet" href="/assets/css/bg.min.css" />
  </noscript>

  <!-- โหลด CSS อื่นๆ ปกติ -->
  <link rel="stylesheet" href="/assets/css/general.min.css" media="all" />
  <link rel="icon" type="image/x-icon" href="/assets/images/fantrove-hub360.ico" />
</head>
<body>
  <header class="search-header">
    <form id="searchForm" autocomplete="off" role="search" aria-label="ระบบค้นหา FanTrove">
      <div class="search-input-wrapper">
        <span class="search-input-icon" aria-hidden="true">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="22"
            viewBox="0 0 24 24"
            fill="none"
            stroke="#13b47f"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="10" cy="10" r="7" />
            <line x1="21" y1="21" x2="15" y2="15" />
          </svg>
        </span>
        <input
          type="search"
          id="searchInput"
          name="q"
          placeholder="ค้นหาข้อมูล..."
          autofocus
          inputmode="search"
          enterkeyhint="search"
          aria-label="ค้นหาข้อมูลใน FanTrove"
          spellcheck="false"
          autocomplete="off"
          required
        />
      </div>
    </form>
  </header>

  <div class="search-main-layout">
    <nav class="search-filters-panel" aria-label="ตัวกรองการค้นหา">
      <div>
        <div class="filter-group-label">ประเภท</div>
        <select id="typeFilter" aria-label="เลือกประเภทข้อมูล"></select>
      </div>
      <div>
        <div class="filter-group-label">หมวดหมู่</div>
        <select
          id="categoryFilter"
          style="display:none"
          aria-label="เลือกหมวดหมู่ข้อมูล"
        ></select>
      </div>
    </nav>

    <main id="searchResults" aria-live="polite" tabindex="0">
      <!-- ผลลัพธ์การค้นหาจะมาแสดงที่นี่ -->
    </main>
  </div>

  <div id="copyToast" aria-live="assertive" role="alert" aria-atomic="true"></div>

  <footer class="search-footer">
    <div class="footer-content">
      <span>FanTrove Search &copy; 2025 | All rights reserved.</span>
    </div>
  </footer>

  <!-- โหลด script สำคัญก่อน -->
  <script src="/assets/js/search-engine.min.js"></script>

  <!-- โหลด script อื่นแบบ defer -->
  <script defer src="/assets/js/modern-navigation.min.js"></script>
  <script defer src="/assets/js/back-to-top.min.js"></script>
  <script defer src="/assets/js/version.min.js"></script>
</body>
</html>